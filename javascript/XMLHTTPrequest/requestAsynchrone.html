<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <h1>Bonjour</h1>

    <div id="coucou"></div>
</body>
    <script>
        const req = new XMLHttpRequest();

        function maProgression(event) {

        // L'argument event va contenir deux propriétés intéressantes :
        // event.loaded : nous indique la quantité de d'octets téléchargés.
        // event.total : la quantité d'octets totale attendue.
        // Nous affichons ça dans la console.
        // MAIS, MAIS, MAIS !!! Au préalable nous allons vérifier que des données
        // existent sinon nous aurons une belle erreur d'execution.

    if (event.lengthComputable) {
        console.log("Données totales : ", event.total);
        console.log("Données reçues : ", event.loaded);
    } else {
    console.log("Pas de données calculables");
        }
}
req.onprogress = maProgression;


        function monErreur(event) {
        // Cette fonction sera appellée uniquement en cas d'erreur de la requête.
        // Il nous suffit d'indiquer l'erreur dans la console pour en savoir plus.
    console.error("Erreur", event.target.status);
}
req.onerror = monErreur;


        function enCours(event) {
        // On test directement le status de notre instance de XMLHttpRequest
    if (this.status === 200) {
        // Tout baigne, voici le contenu de la réponse
        console.log("Contenu", this.responseText);
        
        const coucou = document.getElementById("coucou");
        coucou.innerHTML = this.responseText;

    } else {
        // On y est pas encore, voici le statut actuel
        console.log("Statut actuel", this.status, this.statusText);
    }
}

req.onload = enCours;
        // ici avec true je rend ma requête Asynchrone 
        //ce qui veut dire que mon code continuera d'être exécuté même si il bloque dessus
req.open('GET', 'http://www.neore.fr/fichier.html', true); 


req.send(null);

    </script>
</html>